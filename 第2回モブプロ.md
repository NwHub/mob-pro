# 第2回モブプロ
- 時間 : 3.5時間
- 人数 : 5名前後  
- やること : Vue2.xでアプリ開発
- やる場所 : オンライン

# 環境構築
## phase0_環境構築 （予想時間30分）
  - [ ] 使用する言語、フレームワーク、ライブラリ、ツールの説明
  - [ ] GitHubのアカウント作成
  - [ ] Paiza Cloudログイン
  - [ ] vueプロジェクト作成
  - [ ] GitHubブランチの作成
  - [ ] push

## GitHub登録（未実施の人）
[https://github.com/](https://github.com/)
![image](https://user-images.githubusercontent.com/1374058/120644963-e202f700-c4b2-11eb-92ba-4781523969ff.png)

## PaizaCloud登録（全員）
[https://paiza.cloud/signup](https://paiza.cloud/signup)  
![image](https://user-images.githubusercontent.com/1374058/120643860-a1ef4480-c4b1-11eb-8569-a7453445dbaa.png)

## PaizaCloudでssh-keyを生成（全員）
`ssh-keygen`の質問はエンター3回でOK
```
$ git config --global user.email "you@example.com"
$ git config --global user.name "Your Name"

$ ssh-keygen -t rsa -b 4096
$ cat ~/.ssh/id_rsa.pub
```

## GitHubにssh-keyを登録（全員）
[https://github.com/settings/keys](https://github.com/settings/keys)  
![image](https://user-images.githubusercontent.com/1374058/120646386-71f57080-c4b4-11eb-9a39-39ce0f0c9389.png)

```
Title:適当(paizaとか)
Key:`cat .ssh/id_rsa.pub`で表示された値
```

## PaizaCloud install vue/cli（全員）
```
$ npm install -g @vue/cli
```

## create Project（全員）
```
$ vue create twitter-clone
 ●Manually select features
 -------------------------
 ●Choose Vue version
 ●Babel
 ●CSS Pre-processors
 ●Linter / Formatter
 ●Unit Testing
 ------------------------
 ? Choose a version of Vue.js that you want to start the project with
 > 2.x 
 ? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default):
 > Sass/SCSS (with node-sass)
 ? Pick a linter / formatter config:
 > ESLint + Prettier 
 ? Pick additional lint features:
 > Lint on save
 ? Pick a unit testing solution:
 > Jest
 ? Where do you prefer placing config for Babel, ESLint, etc.?
 > In dedicated config files
 ? Save this as a preset for future projects? 
 > N
```

## アプリケーション起動（全員）
```
$ cd twitter-clone
$ npm run serve
```

## 設定ファイルを追加して再起動（全員）
`Ctr + c`でサーバーストップ  

## 設定ファイルを追加（全員）
vue.config.js
```
module.exports = {
  devServer: {
    host: '0.0.0.0',
    disableHostCheck: true
  }
}
```

## 起動（全員）
```
$ npm run serve
```

## コードフォーマット（1人:ホスト）
### ファイルを追加
.prettierrc
```
{
  "semi": true,
  "arrowParens": "always",
  "singleQuote": false,
  "trailingComma": "none"
}
```

### formatを`package.json`に追加
package.json
```
  "scripts": {
    "serve": "vue-cli-service serve",
    "build": "vue-cli-service build",
    "test:unit": "vue-cli-service test:unit",
    "lint": "vue-cli-service lint",
    ↓↓↓↓↓
    "format": "prettier --write '{src,tests}/**/*.{js,ts,vue,json}'"
    ↑↑↑↑↑
  },
```

### コードフォーマット実行
```
$ npm run format
```

## ブランチを作成（1人:ホスト）
[https://github.com/](https://github.com/NwHub)

## GitHubにpush（1人:ホスト）
```
$ git init
$ git add .
$ git commit -m "first commit"
$ git remote add origin git@github.com:NwHub/twitter-clone.git
$ git branch -M main
$ git push -u origin main
```

## createしたprojectを削除してGitHubからcloneする（全員）
```
$ cd ../
$ rm -fr twitter-clone
$ git clone git@github.com:NwHub/twitter-clone.git
$ cd twitter-clone
$ npm install
```

# 開発フェーズ
## 完成イメージ
![image](https://user-images.githubusercontent.com/1374058/103772691-45583c80-506d-11eb-819e-8e8996a09d2c.png)

## 仕様書（全員）
（[仕様](https://user-images.githubusercontent.com/1374058/103862560-b0078780-5102-11eb-84b7-d144446b9dff.png)
／[HTML](https://codepen.io/shiro83/pen/bGwLNKz)）

# phase2_ユーザー名表示（予想時間20分）
  - [ ] 作成するアプリの説明
  - [ ] ブランチ作成
  - [ ] Vue処理追加①
  - [ ] コードフォーマット
  - [ ] commit & push
  - [ ] Vue処理追加②
  - [ ] コードフォーマット
  - [ ] commit & push
  - [ ] PRマージ
## ブランチ作成（1人:メンバー）
```
$ git branch -b phase2
$ git branch
```

## Vue処理追加ーカウント（1人:メンバー）
- データを定義
- methodに関数を定義
- フォーマット実行：`npm run format`

ヒント
```
<template>
  <div>
  </div>
</template>

<script>
export default {
  name: "hoge",
  data: () => {
    return {
      hoge : "hoge"
    };
  },
  computed: {
    hoge() {
      return "";
    }
  },
  methods: {
    hoge() {

    }
  }
};
</script>
<style>
</style>
```

## commit & push（1人:メンバー）
```
$ git status
$ git add .
$ git commit -m 'カウント'
$ git push
```

## Vue処理追加ーUser名表示
## checkout（全員）
```
$ git checkout origin phase2
$ git branch
```

## userデータの定義（1人:メンバー）
 - データ定義
ヒント
```
      user: {
        userName: "aaa",
      }
```

## userデータを表示（1人:メンバー）
 - 普通にデータを表示
 - computedを使って表示
 - フォーマット実行：`npm run format`

## commit & push（1人:メンバー）
```
$ git status
$ git add .
$ git commit -m 'ユーザー名表示'
$ git push
```

## PR Merge（1人:ホスト）

# phase3_CSS適応（予想時間20分）
  - [ ] ブランチ作成
  - [ ] テストコード追加
  - [ ] CSS適応
  - [ ] push
  - [ ] mainにマージ

## テストコード追加
## mainブランチcheckout（全員）
```
$ git checkout main
$ git branch
$ git pull
```

## ブランチ作成（1人:メンバー）
```
$ git branch -b phase3
$ git branch
```

## テストコード追加（1人:メンバー）
[Vue Test Utils](https://vue-test-utils.vuejs.org/ja/guides/#%E3%81%AF%E3%81%98%E3%82%81%E3%82%8B)
- `example.spec.js`をコピーして`User.spec.js`を作成
- shallowMount=>mount
- ボタンクリックテスト
- おすすめ(`expect(wrapper).toMatchSnapshot();`)

ヒント
```
const msg = "@hoge - fuga hoge followers: 0\n  follow";
```
```
expect(wrapper).toMatchSnapshot();
```
```
await wrapper.find('button').trigger('click');
```
スナップショット再作成
```
$ npm run test:unit -- -u
```

## commit & push（1人:メンバー）
```
$ git status
$ git add .
$ git commit -m 'テスト追加'
$ git push
```

## CSS適応

## 仕様（全員）
[仕様](https://user-images.githubusercontent.com/1374058/103863189-be09d800-5103-11eb-9ad7-4b4099914d24.png)
／[HTML](https://codepen.io/shiro83/pen/WNGMMgr)

## checkout（全員）
```
$ git checkout origin phase3
$ git branch
```

## CSS適応（1人:メンバー）
- CSSを適応
- フォーマット実行：`npm run format`
- テスト実行：`npm run test:unit`

## commit & push（1人:メンバー）
```
$ git status
$ git add .
$ git commit -m 'CSS適応'
$ git push
```

# phase4_Tweet部分（予想時間20分）
  - [ ] ブランチ作成
  - [ ] Tweet表示処理を追加
  - [ ] 入力ボックスを追加
  - [ ] CSS適応（[イメージ](https://user-images.githubusercontent.com/1374058/103863627-8bacaa80-5104-11eb-9865-f3fdcd3d6834.png)
／[HTML](https://codepen.io/shiro83/pen/OJRvmjq)）
  - [ ] テストコード修正
  - [ ] push
  
  - [ ] mainにマージ

## Tweet表示
## 仕様（全員）
[仕様](https://user-images.githubusercontent.com/1374058/103863801-cf071900-5104-11eb-904f-9effb57028fd.png)
／[HTML](https://codepen.io/shiro83/pen/QWKQrvJ)

## 実装
ヒント
```
tweets: [
  { id: 1, content: 'test1' },
  { id: 2, content: 'test2' },
]
```
```html
<div v-for="tweet in User.tweets" :key="tweet.id">{{tweet.content}}</div>
```

## commit & push（1人:メンバー）
```
$ git status
$ git add .
$ git commit -m 'CSS適応'
$ git push
```

## 入力ボックスを追加
#### 仕様
``` html
<div class="user-profile">
  <div class="user-profile__user-panel">
    <h1>@TutorialUser</h1>
    <div>
      <strong>Followers: 1</strong>
      <button>follow</button>
    </div>

    <form class="create-tweet-panel">
      <label class="newTweet">
        <strong>New Tweet</strong>
      </label>
      <textarea rows="4"></textarea>
      <div>
        <button>Tweet</button>
      </div>
    </form>

  </div>

  <div>
    <div>Tweet1</div>
    <div>Tweet2</div>
  </div>
</div>
```
- 実装

# phase5_入力ボックスを追加（予想時間40分）
  - [ ] ブランチ作成
  - [ ] 入力処理を追加（[HTML](https://codepen.io/shiro83/pen/GRjGJvQ)）
  - [ ] テストコード修正
  - [ ] push
  - [ ] mainにマージ


- phase6_Sass対応（予想時間15分）
  - [ ] ブランチ作成
  - [ ] Sass適応
  - [ ] push
  - [ ] mainにマージ

